# Five Stacks System â€” Architecture

**Created:** January 27, 2026  
**Status:** Active  
**Purpose:** The blueprint. How the whole system fits together.

---

## Core Concept

Five Stacks is an operational system that builds sustainability capability through progressive layers. Each stack develops a specific competency. Together, they create the capacity to respond to external demands, optimize operations, and build competitive advantage.

**This is not a one-time assessment.** It's a living system that organizations use continuously.

---

## System Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 0                                 â”‚
â”‚                       Fundamentals                              â”‚
â”‚         (Company profile, SWOT, Goals â€” setup once)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 1                                 â”‚
â”‚                         Baseline                                â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PHASE 1: Operational Ledger (8 Domains)                â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  1. Resource & Material Inputs                          â”‚   â”‚
â”‚  â”‚  2. Packaging                                           â”‚   â”‚
â”‚  â”‚  3. Energy & Utilities                                  â”‚   â”‚
â”‚  â”‚  4. Operational Infrastructure                          â”‚   â”‚
â”‚  â”‚  5. Transportation & Logistics                          â”‚   â”‚
â”‚  â”‚  6. Human & Safety Capital                              â”‚   â”‚
â”‚  â”‚  7. Systematic Outputs                                  â”‚   â”‚
â”‚  â”‚  8. Data Quality (embedded throughout)                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â†’ MILESTONE: 80% = Response-ready                      â”‚   â”‚
â”‚  â”‚  â†’ Reflection prompt                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PHASE 2: Context Lenses                                â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  â€¢ External (markets, customers, regulations)           â”‚   â”‚
â”‚  â”‚  â€¢ Financial (revenue, budget, constraints)             â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â†’ Stack 1 Complete = Stack 2 Unlocks                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 2                                 â”‚
â”‚                        Efficiency                               â”‚
â”‚              (Find and fix margin leaks)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 3                                 â”‚
â”‚                        Circularity                              â”‚
â”‚              (Capture value leaving the system)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 4                                 â”‚
â”‚                        Resilience                               â”‚
â”‚              (Design for volatility)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STACK 5                                 â”‚
â”‚                       Regeneration                              â”‚
â”‚              (Compound advantage, positioning)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Progression Logic

### Standalone Stacks, Strong Guidance

**Core philosophy:** Each stack is a standalone tool. Users decide how to use them. We always tell them what's missing and what that means â€” but the choice is theirs.

> "Tools, not babysitters. We illuminate, you decide."

### Why Sequence Still Matters

Each stack builds on the previous for maximum efficacy:

| Stack | Ideal prerequisite | Why it matters |
|-------|-------------------|----------------|
| Stack 0 | None | Entry point |
| Stack 1 | Stack 0 complete | Need company context before measuring |
| Stack 2 | Stack 1 data | Can't find leaks you can't see |
| Stack 3 | Stack 2 data | Circular systems on a leaky operation just leak faster |
| Stack 4 | Stack 3 data | Resilience without value capture is just cost |
| Stack 5 | Stack 4 data | Positioning without operational proof is greenwashing |

**However:** Users can purchase any stack standalone. The system guides, not gates.

### Baseline Requirement Options

Stacks 2-5 require baseline data. Users can satisfy this via:

1. **Complete Stack 1** â€” Build baseline within the system
2. **Import existing data** â€” Bring data from elsewhere, system validates coverage

If neither is done, the system:
- Allows access (no hard lock)
- Surfaces specific gaps: "You're missing material input data"
- Explains consequences: "Your efficiency analysis won't include raw material costs"
- Flags outputs: "Confidence: Limited. Excludes: materials, transport."
- Offers path forward: "[Add data] or [Continue anyway]"

### Persistent Guidance, Not Hard Locks

The system always reiterates that baseline is key:
- On purchase: "Stack 2 works best with baseline data. Do you have it?"
- In use: "This analysis is missing X. Here's what that means."
- On output: "Confidence flags showing what's solid vs. provisional"

**When baseline is added later:**
> "Baseline data detected. Your Stack 2 analysis has been updated. [View changes]"

### The Commercial Reality

Some organizations already have baseline done elsewhere. They don't need Stack 1 â€” they need Stacks 2-5. Forcing them through Stack 1 would feel like busywork and lose the sale.

Some organizations find Stacks 2-5 to be the actual value â€” optimization, not measurement.

We respect that. We serve both.

---

## Stack 0: Fundamentals

**Purpose:** Establish context before measuring anything.

**Completed once, revisited periodically.**

### What it captures:

**Company Profile**
- Legal entity, trading name
- Industry / NACE code
- Headcount (FTE)
- Sites / locations
- Reporting period
- Ownership structure

**Strategic Reflection (SWOT)**
- Strengths (what's working)
- Weaknesses (what's not)
- Opportunities (what's possible)
- Threats (what's risky)

**Goals**
- What does winning look like?
- Time horizon
- Primary motivation (compliance / cost / values / competitive)

### Completion criteria:
- Company profile complete
- SWOT answered (can be brief)
- Goals articulated

### Unlocks:
- Stack 1 access

---

## Stack 1: Baseline

**Purpose:** Build the operational ledger. Know your numbers.

**Canonical definition:**
> Stack 1 is complete when the organization can reconstruct a defensible mass-, energy-, and output-balance for its operations â€” with transparent uncertainty â€” and reuse that dataset across Scope 3, ESG reporting, circular mapping, and risk analysis without rebuilding it.

### Phase 1: Operational Ledger (8 Domains)

| Domain | What it captures |
|--------|------------------|
| 1. Resource & Material Inputs | Mass, composition, suppliers, origin |
| 2. Packaging | Type, material, weight, linked products |
| 3. Energy & Utilities | Electricity, fuels, water â€” per site |
| 4. Operational Infrastructure | Sites, floor space, assets, ownership |
| 5. Transportation & Logistics | Mode, distance, fuel, period totals |
| 6. Human & Safety Capital | FTE, hours worked, incidents |
| 7. Systematic Outputs | Waste, emissions, disposal routes |
| 8. Data Quality & Traceability | Source, period, confidence (embedded in all) |

**Every data point carries:**
- Source (bill / ERP / estimate / supplier)
- Time period
- Confidence level (High / Medium / Low)

### Phase 1 Milestone (80%)

> "You can respond to a customer's Scope 3 data request with the click of a button."

At 80% operational ledger completion:
- Response Generator unlocked
- Scope 3 Data Pack export available
- EcoVadis core sections answerable
- VSME baseline achievable

**Reflection prompt:** "Looking at your baseline, what stands out? What surprised you? What's your biggest concern?"

### Phase 2: Context Lenses

**External (Your Environment)**
- Primary markets served (geography)
- Customer types (B2B / B2C / mixed)
- Key customer industries
- Regulatory frameworks applicable
- Certifications held / targeted
- Competitive pressure on sustainability
- Key buyer requirements (known)

**Financial (Your Budget Reality)**
- Revenue band
- Gross margin band
- Sustainability budget (annual)
- CapEx capacity (next 12mo)
- Current cost pain points
- Financing relationships
- Sustainability-linked financing status

### Stack 1 Completion Criteria:
- Phase 1 at 80%+ (operational ledger)
- Phase 2 complete (external + financial context)
- Reflection prompt answered

### What Completion Unlocks:
- Full Response Generator capability
- All Stack 1 exports
- Clean handoff to Stack 2+ (no gap warnings)

**Note:** Stack 2+ can be purchased/used without Stack 1 completion, but the system will surface gaps and flag limited confidence on outputs.

---

## Stack 2â€“5: Summary

*(Detailed schemas to be written when Stack 1 is built)*

**All stacks are standalone purchasable.** Each works best with baseline data (Stack 1 or imported) but functions without it at reduced confidence.

### Stack 2: Efficiency
- Adds: Cost data, benchmarks, efficiency metrics
- Answers: "Where am I leaking margin?"
- Unlocks: Margin leak analysis, efficiency recommendations
- Without baseline: Can analyze costs, but can't link to resource flows

### Stack 3: Circularity
- Adds: Waste stream details, byproduct inventory, capacity utilization
- Answers: "What value is leaving my system uncaptured?"
- Unlocks: Circular opportunity mapping, value recovery tracking
- Without baseline: Can map opportunities, but can't quantify material flows

### Stack 4: Resilience
- Adds: Dependency mapping, risk observations, diversification status
- Answers: "How fragile am I? What breaks first?"
- Unlocks: Scenario modeling, risk assessment, contingency planning
- Without baseline: Can identify dependencies, but can't model impact scenarios accurately

### Stack 5: Regeneration
- Adds: Portfolio performance, strategic decisions, external signals
- Answers: "Am I building long-term advantage?"
- Unlocks: Positioning tools, certification readiness, premium capture
- Without baseline: Positioning without proof â€” system will flag greenwashing risk

---

## Core Capabilities

### 1. Response Generator (Hero Feature)

**What it does:**
1. User uploads or pastes questionnaire (Excel, PDF, manual entry)
2. System maps questions to Stack 1 data
3. Generates answers + confidence flags
4. User reviews, adjusts
5. Export

**Why it matters:**
- "Here's your answers" not "here's our data"
- Adapts to any questionnaire format
- Eliminates rebuild-from-scratch every request

**Requires:** Stack 1 Phase 1 at 80%+

### 2. Exports

| Export | What it is | When available |
|--------|------------|----------------|
| Response Generator | Upload questionnaire â†’ get answers | Stack 1 Phase 1 @ 80% |
| Scope 3 Data Pack | Pre-formatted for customer requests | Stack 1 Phase 1 @ 80% |
| Raw Data | CSV/JSON dump | Any time |

### 3. Dashboard

**Summary view showing:**
- Baseline status (domains complete, months of data, last updated)
- Key metrics (headline numbers)
- Data health (confidence breakdown)
- Gaps & flags (what's missing, stale, inconsistent)
- Suggested actions (contextual to-dos)
- Trends (if enough data)

**Purpose:** Board-ready snapshot. Pull it up in a meeting.

---

## Gamification Layer

### Progress Bar (0â€“80%)

Visible on dashboard. Represents core baseline completion.

| Threshold | Milestone |
|-----------|-----------|
| 25% | ðŸŽ‰ "You can now generate a basic Scope 3 response" |
| 50% | ðŸŽ‰ "Your baseline covers core EcoVadis sections" |
| 80% | ðŸŽ‰ "VSME-ready. Your baseline is complete." |

**Bar stops at 80%.** That's Stack 1 Phase 1 "done."

### Badges (Beyond 80%)

Small, optional recognition for going deeper:

| Badge | Criteria |
|-------|----------|
| ðŸ·ï¸ Full Transport Data | Logistics domain 100% |
| ðŸ·ï¸ Supplier Origins Complete | All materials have country of origin |
| ðŸ·ï¸ 12-Month History | Full year of data entered |
| ðŸ·ï¸ High Confidence | 90%+ data points marked high confidence |

Not required. Not blocking. Just recognition.

### Milestone Pop-ups

When user hits threshold:

> **ðŸŽ‰ 25% Complete!**  
> You can now respond to basic Scope 3 requests.  
> **[Try it now â†’]**

Links directly to Response Generator.

### Fun Facts (Reward Layer)

On milestone or completion:

> "Did you know? The average SME spends 14 hours rebuilding sustainability data for each new request. You just eliminated that."

> "Your Scope 2 emissions are equivalent to X. Here's what that means in context."

Small, relevant, dopamine hit.

### To-Do Checklist (Guidance Layer)

Persistent sidebar or collapsible panel:

```
â˜‘ Complete company profile
â˜‘ Enter first month of energy data
â˜ Add material inputs
â˜ Enter transport data
â˜ Review confidence levels
â˜ Complete 12 months history
â˜ Add external context
â˜ Add financial context
```

Shows what's next, not everything at once.

---

## User Modes

### Mode 1: Guided Setup (New Users)

For first-timers:
- One domain at a time
- Contextual help
- Progress indicator
- Celebrates completion per section
- Ends with "You've built your baseline"

### Mode 2: Dashboard + Tabs (Returning Users)

For ongoing management:
- Summary dashboard
- Tabs by domain
- Edit inline
- Visual flags for gaps

**Relationship:** Guided Setup â†’ completes â†’ lands in Dashboard + Tabs mode.

---

## Data Architecture Principles

### Every Data Point Has:
- **Value** (the number)
- **Source** (where it came from)
- **Period** (when it applies)
- **Confidence** (High / Medium / Low)

### Estimation Rules:
- If mass is unknown â†’ estimation method must be logged
- Spend-based data acceptable only if activity data unavailable â€” flagged
- No data > bad data (explicit gaps, not hidden)

### Credibility Layer:
> "We know what's solid, and we know what's provisional."

Auditors respect that. Buyers trust that.

---

## What Stack 1 Explicitly Does NOT Include

These are not gaps. They are sequenced to later stacks:

| Excluded from Stack 1 | Why | Where it lives |
|-----------------------|-----|----------------|
| Policies | Organizational maturity, not data | Stack 2+ |
| Targets | Need baseline first | Stack 2+ |
| Improvement programs | Need to know leaks first | Stack 2 |
| Certifications | Positioning, not baseline | Stack 5 |
| Supplier audits | Requires baseline + external context | Stack 4 |
| Net-zero commitments | Strategy, not measurement | Stack 5 |

---

## Requestor Coverage

### Stack 1 Fully Covers (~80% of requests):
- Customer Scope 3 data requests
- EcoVadis core sections
- VSME baseline disclosure
- Bank/lender ESG questions
- Insurance sustainability queries
- Internal management visibility

### Stack 1 Partially Covers (~15%):
- CDP (data yes, targets no)
- SBTi (baseline yes, pathway no)
- ISO frameworks (evidence yes, formal systems no)

### Stack 1 Does Not Cover (~20%):
- Policy documentation
- Governance structures
- Targets and commitments
- Certification applications
- Supplier audit programs

**This 20% is not missing. It's deferred by design.**

---

## Technical Notes

### Platform
- Web application (React + Tailwind)
- Mobile-friendly
- Hosted on Vercel
- Auth + database via Supabase
- Payments via Lemon Squeezy

### Data Ownership
- Users own their data
- Export capability always available
- Audit-ready outputs
- No lock-in

---

## Document Hierarchy

| Document | Purpose |
|----------|---------|
| PRODUCT-PLAN.md | Business model, pricing, positioning |
| **SYSTEM-ARCHITECTURE.md** | **How it all fits together (this doc)** |
| STACK-0-SCHEMA.md | Fundamentals â€” company, SWOT, goals |
| STACK-1-SCHEMA.md | Baseline â€” 8 domains + external + financial |
| STACK-2-SCHEMA.md | Efficiency (future) |
| STACK-3-SCHEMA.md | Circularity (future) |
| STACK-4-SCHEMA.md | Resilience (future) |
| STACK-5-SCHEMA.md | Regeneration (future) |
| Feature specs | Response Generator, exports, UI flows (future) |

---

## Version History

| Date | Change |
|------|--------|
| January 27, 2026 | Initial architecture document |

---

*This document is the blueprint. Individual stack schemas provide the detail.*
